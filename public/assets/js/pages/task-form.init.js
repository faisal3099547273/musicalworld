!function(){var a="",t="",e="",s=0;$(document).ready((function(){"use strict";$("#NewtaskForm").validate({rules:{"member[]":{required:!0}},errorPlacement:function(a,t){t.is(":checkbox")?a.insertAfter("#taskassignee"):a.insertAfter(t)}}),$(".addtask-btn").click((function(){var a=$(this).attr("data-id");$("#updatetaskdetail").css("display","none"),$("#addtask").css("display","block"),$(".update-task-title").css("display","none"),$(".add-task-title").css("display","block"),$("#taskname").val(""),$("#taskdesc").val(""),$("#TaskStatus").val(""),$("#taskbudget").val(""),$("#taskassignee input").prop("checked",!1),e=a})),$("select#TaskStatus").change((function(){t=$(this).children("option:selected").val()})),$("#addtask").click((function(){$("#updatetaskdetail").css("display","none"),$("#addtask").css("display","block"),$(".update-task-title").css("display","none"),$(".add-task-title").css("display","block");var a=function(a){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=e.length,d=0;d<a;d++)t+=e.charAt(Math.floor(Math.random()*s));return t}(5),d=$("#taskname").val(),l=(i=new Date).getDate()+" "+i.toLocaleString("default",{month:"short"})+", "+i.getFullYear(),i="";0<(o=$("#taskdesc").val()).length&&(i="<ul class='ps-3 mb-4 text-muted' id='task-desc'><li class='py-1'>"+o+"</li></ul>");var n,o=$("#taskbudget").val(),r=new Array,c=new Array,k="";for($("#taskassignee input[type=checkbox]:checked").each((function(){c.push($(this).attr("id")),r.push($(this).nextAll("img").attr("src"))})),s=0;s<r.length;s++)k=k+'<div class="avatar-group-item"><a href="#" class="d-inline-block" value="'+c[s]+'"><img src="'+r[s]+'" class="rounded-circle avatar-xs" alt=""></a></div>';"Waiting"==t?n="badge-soft-secondary":"Approved"==t?n="badge-soft-primary":"Complete"==t?n="badge-soft-success":"Pending"==t&&(n="badge-soft-warning"),0==d.length||0==o.length||0==t.length||0==r.length?($("#NewtaskForm").validate().element("#taskname"),$("#NewtaskForm").validate().element("#taskassignee input:checkbox"),$("#NewtaskForm").validate().element("#TaskStatus"),$("#NewtaskForm").validate().element("#taskbudget")):($(e).append("<div class='card task-box' id='"+a+"'><div class='card-body'><div class='dropdown float-end'><a href='#' class='dropdown-toggle arrow-none' data-bs-toggle='dropdown' aria-expanded='false'><i class='mdi mdi-dots-vertical m-0 text-muted h5'></i></a><div class='dropdown-menu dropdown-menu-end'><a class='dropdown-item edittask-details' href='#' data-bs-toggle='modal' data-bs-target='.bs-example-modal-lg' data-id='#"+a+"'>Edit</a><a class='dropdown-item deletetask' href='#' data-id='#"+a+"'>Delete</a></div></div><div class='float-end ms-2'><span class='badge rounded-pill font-size-12 "+n+"' id='task-status'>"+t+"</span></div><div><h5 class='font-size-15'><a href='javascript: void(0);' class='text-dark' id='task-name'>"+d+"</a></h5><p class='text-muted mb-4' id='task-date'>"+l+"</p></div>"+i+"<div class='avatar-group float-start task-assigne'>"+k+"</div><div class='text-end'><h5 class='font-size-15 mb-1' id='task-budget'>$ "+o+"</h5><p class='mb-0 text-muted'>Budget</p></div></div></div>"),$("#modalForm").modal("toggle"))})),$("#modalForm").on("hidden.bs.modal",(function(a){var t=$("#NewtaskForm").validate();$("#taskname").removeClass("error").next("label.error").remove(),$("#TaskStatus").removeClass("error").next("label.error").remove(),$("#taskbudget").removeClass("error").next("label.error").remove(),t.resetForm()})),$("#updatetaskdetail").click((function(){var e;"Waiting"==t?e="badge-soft-secondary":"Approved"==t?e="badge-soft-primary":"Complete"==t?e="badge-soft-success":"Pending"==t&&(e="badge-soft-warning");var d=$("#taskname").val(),l=new Date,i=l.getDate()+" "+l.toLocaleString("default",{month:"short"})+", "+l.getFullYear(),n=$("#taskdesc").val(),o=$("#taskbudget").val(),r=new Array,c=new Array,k="";for($("#taskassignee input[type=checkbox]:checked").each((function(){c.push($(this).attr("id")),r.push($(this).nextAll("img").attr("src"))})),s=0;s<r.length;s++)k=k+'<div class="avatar-group-item"><a href="#" class="d-inline-block" value="'+c[s]+'"><img src="'+r[s]+'" class="rounded-circle avatar-xs" alt=""></a></div>';l="",0<n.length&&(l="<ul class='ps-3 mb-4 text-muted' id='task-desc'><li class='py-1'>"+n+"</li></ul>"),0==d.length||0==o.length||0==t.length||0==r.length?($("#NewtaskForm").validate().element("#taskname"),$("#NewtaskForm").validate().element("#taskassignee input:checkbox"),$("#NewtaskForm").validate().element("#TaskStatus"),$("#NewtaskForm").validate().element("#taskbudget")):($(a).html("<div class='card-body'><div class='dropdown float-end'><a href='#' class='dropdown-toggle arrow-none' data-bs-toggle='dropdown' aria-expanded='false'><i class='mdi mdi-dots-vertical m-0 text-muted h5'></i></a><div class='dropdown-menu dropdown-menu-end'><a class='dropdown-item edittask-details' href='#' data-bs-toggle='modal' data-bs-target='.bs-example-modal-lg' data-id='"+a+"'>Edit</a><a class='dropdown-item deletetask' href='#' data-id='"+a+"'>Delete</a></div></div> <div class='float-end ms-2'><span class='badge rounded-pill font-size-12 "+e+"' id='task-status'>"+t+"</span></div><div><h5 class='font-size-15'><a href='javascript: void(0);' class='text-dark' id='task-name'>"+d+"</a></h5><p class='text-muted'>"+i+"</p></div>"+l+"<div class='avatar-group float-start task-assigne'>"+k+"</div><div class='text-end'><h5 class='font-size-15 mb-1' id='task-budget'>$ "+o+"</h5><p class='mb-0 text-muted'>Budget</p></div></div>"),$("#modalForm").modal("hide"))})),$(".main-content").on("click",".edittask-details",(function(e){var s=$(this).attr("data-id");a=s,$("#NewtaskForm").validate().resetForm(),$("#updatetaskdetail").css("display","block"),$("#addtask").css("display","none"),$(".update-task-title").css("display","block"),$(".add-task-title").css("display","none");var d=$(s).find("#task-name").text(),l=$(s).find("#task-desc").text(),i=parseInt($(s).find("#task-budget").text().replace(/[^0-9.]/g,"")),n=$(s).find("#task-status").text();$("#taskassignee input").prop("checked",!1),$(s).find(".task-assigne a").each((function(){var a=$(this).attr("value");$("#"+a).prop("checked",!0)})),$("#taskname").val(d),$("#taskdesc").val(l),$("#taskbudget").val(i),$("#TaskStatus").val(n),t=n})),$(".main-content").on("click",".deletetask",(function(a){var t=$(this).attr("data-id");console.log("Task Deleted Successfully"),$(t).remove()}))}))}();